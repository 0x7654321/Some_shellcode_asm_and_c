#include <stdio.h>
#include <stdlib.h>
#include <windows.h>

int main(int argc, char *argv[]) {
	unsigned char shellcode[] = 
        "\x66\x53\x66\x89\xc3\x67\x80\x38\x0\x74\x4\x66\x40\xeb\xf6"
        "\x66\x29\xd8\x66\x5b\xc3\x66\x52\x66\x51\x66\x53\x66\x50\xe8"
        "\xe0\xff\x66\x89\xc2\x66\x58\x66\x89\xc1\x66\xbb\x1\x0\x0\x0"
        "\x66\xb8\x4\x0\x0\x0\xcd\x80\x66\x5b\x66\x59\x66\x5a\xc3\x66"
        "\xbb\x0\x0\x0\x0\x66\xb8\x1\x0\x0\x0\xcd\x80\xc3\x66\xb8\x84"
        "\x0\x0\x0\xe8\xc0\xff\x66\xba\xff\x0\x0\x0\x66\xb9\xa8\x0\x0"
        "\x0\x66\xbb\x0\x0\x0\x0\x66\xb8\x3\x0\x0\x0\xcd\x80\x66\xb8"
        "\x9d\x0\x0\x0\xe8\x9d\xff\x66\xb8\xa8\x0\x0\x0\xe8\x94\xff"
        "\xe8\xb9\xff\x53\x61\x69\x73\x69\x73\x73\x65\x7a\x20\x76\x6f"
        "\x74\x72\x65\x20\x70\x72\x65\x6e\x6f\x6d\x3a\x20\x0\x42\x6f"
        "\x6e\x6a\x6f\x75\x72\x3a\x20";

	PVOID shellcode_exec;
	shellcode_exec = VirtualAlloc(0, sizeof(shellcode), MEM_COMMIT | MEM_RESERVE, PAGE_EXECUTE_READWRITE);
	RtlCopyMemory(shellcode_exec, shellcode, sizeof(shellcode));
	DWORD threadID;
	HANDLE hThread = CreateThread(NULL, 0, (PTHREAD_START_ROUTINE)shellcode_exec, NULL, 0, &threadID);
	WaitForSingleObject(hThread, INFINITE);

    return 0;
}